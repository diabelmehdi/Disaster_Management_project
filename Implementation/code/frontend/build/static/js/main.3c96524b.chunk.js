(this.webpackJsonpdisaster=this.webpackJsonpdisaster||[]).push([[0],{395:function(e,t,a){},396:function(e,t,a){},397:function(e,t,a){},398:function(e,t,a){},423:function(e,t,a){},424:function(e,t,a){},425:function(e,t,a){},426:function(e,t,a){},427:function(e,t,a){},428:function(e,t,a){},429:function(e,t,a){},430:function(e,t,a){},434:function(e,t,a){},435:function(e,t,a){},436:function(e,t,a){},496:function(e,t,a){},498:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),i=a(16),c=a.n(i),r=(a(395),a(396),a(33)),l=(a(397),a(398),a(2)),o=function(e){return Object(l.jsx)("div",{className:"card2",children:e.children})},d=a(329),u=a(99),h=a(365),j=a.n(h),b=a(366),m=a.n(b),p=a(245),x=a(528),O=a(357),g=a(331),f=a(217),v=a(28),y=a(29),C=a(44),S=a(43),k=a(212),N=a(6),w=a(56),T=a(36),M=a(330),P=a(542),D=a(531),I=a(208),A=a.n(I),F=a(530),E=a(31),B=a.n(E);function R(){var e=JSON.parse(localStorage.getItem("token"));return e?{Authorization:e}:{}}var L=a(30),V=a.n(L),H="http://localhost:8080/api",U=new(function(){function e(){Object(v.a)(this,e)}return Object(y.a)(e,[{key:"getVictims",value:function(){return B.a.get(H+"/victims",{headers:R()})}},{key:"createVictim",value:function(e,t,a,n,s,i,c,r,l,o,d,u){return B.a.post(H+"/registerVictim",{username:e,name:t,email:a,nrStreet:n,street:s,city:i,description:c,dateOfBirth:r,allergy:l,bloodType:o,tel:d}).then((function(){window.location.href=u})).catch((function(e){V()("Failure","User exists","error")}))}},{key:"getMessageByUsername",value:function(e){return B.a.get(H+"/message/"+e,{})}},{key:"deleteVictim",value:function(e){return B.a.delete(H+"/delete/"+e,{headers:R()})}},{key:"updateVictim",value:function(e,t){return B.a.put(H+"/victims/"+t,e,{headers:R()})}},{key:"updateDisaster",value:function(e,t){return B.a.put(H+"/disaster/"+t,e)}},{key:"sendMessage",value:function(e,t){return B.a.put(H+"/victimsMessage/"+e,{message:t})}},{key:"getVictimMessages",value:function(){return B.a.get()}}]),e}()),W=a(328),K=a(524),G=a(525),q=a(526),z=a(527),Y=a(541),J=a(523),_=a(206),Q=a.n(_),X=a(362),Z=a.n(X),$=function(e){Object(C.a)(a,e);var t=Object(S.a)(a);function a(){var e;return Object(v.a)(this,a),(e=t.call(this)).state={name:"",message:"",messageFromTheRescue:"For now nothing",tabValue:0,notificationContent:Object(l.jsx)("div",{children:"Notification"})},e.handleInputChange=e.handleInputChange.bind(Object(T.a)(e)),e.handleTabChange=e.handleTabChange.bind(Object(T.a)(e)),e.sendMessage=e.sendMessage.bind(Object(T.a)(e)),e.getMessage=e.getMessage.bind(Object(T.a)(e)),e}return Object(y.a)(a,[{key:"handleInputChange",value:function(e){this.setState(Object(w.a)({},e.target.name,e.target.value))}},{key:"sendMessage",value:function(){U.sendMessage(this.state.name,this.state.message).then((function(e){200==e.status?V()("Success","Your message is saved","success"):V()("Failure","Your message is not saved, try again","error")})).catch((function(e){V()("Failure","try again!! unhandled error","error")}))}},{key:"getMessage",value:function(){var e=this;U.getMessageByUsername(this.state.name).then((function(t){console.log(t.data),""!=t.data?e.setState({messageFromTheRescue:t.data}):e.setState({messageFromTheRescue:"Still no message, wait cerfully!"})})).catch((function(e){V()("Failure","Try again, make sure you wrote the username on the other side","error")}))}},{key:"handleTabChange",value:function(e,t){this.setState({tabValue:t})}},{key:"render",value:function(){return Object(l.jsxs)(s.a.Fragment,{children:[Object(l.jsx)(p.a,{m:2,children:Object(l.jsxs)(Y.a,{value:this.state.tabValue,onChange:this.handleTabChange,variant:"fullWidth",indicatorColor:"primary",textColor:"primary","aria-label":"icon tabs example",children:[Object(l.jsx)(J.a,{icon:Object(l.jsx)(Q.a,{}),label:"Contact the Responce team"}),Object(l.jsx)(J.a,{icon:Object(l.jsx)(Z.a,{}),label:"Notification"})]})}),Object(l.jsxs)(p.a,{m:2,children:[0===this.state.tabValue&&Object(l.jsxs)(s.a.Fragment,{children:[Object(l.jsxs)(K.a,{children:[Object(l.jsx)(G.a,{for:"name",children:"UserName"}),Object(l.jsx)(q.a,{name:"name",onChange:this.handleInputChange,value:this.state.name,placeholder:"Enter your name here"})]}),Object(l.jsxs)(K.a,{children:[Object(l.jsx)(G.a,{for:"message",children:"Message"}),Object(l.jsx)(q.a,{type:"textarea",value:this.state.message,onChange:this.handleInputChange,style:{height:150},name:"message",placeholder:"What's on your mind?"})]}),Object(l.jsx)(z.a,{onClick:this.sendMessage,children:"Submit"})]}),Object(l.jsx)(p.a,{borderBottom:1,m:3}),1===this.state.tabValue&&Object(l.jsxs)(s.a.Fragment,{children:[Object(l.jsx)(K.a,{children:Object(l.jsx)(G.a,{for:"name",children:this.state.messageFromTheRescue})}),Object(l.jsx)(z.a,{onClick:this.getMessage,children:"Get the message from rescue helper"})]})]})]})}}]),a}(s.a.Component),ee=Object(N.a)((function(e){return{root:{flexGrow:1,maxWidth:500}}}))($),te=(a(423),Object(W.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary,display:"flex",flexDirection:"column",alignItems:"center",backgroundColor:"white"}}})));function ae(){var e=te(),t=s.a.useState(Object(l.jsx)("div",{})),a=Object(r.a)(t,2),n=a[0],i=a[1],c=s.a.useState(!1),o=Object(r.a)(c,2),h=o[0],j=o[1],b=function(e){switch(console.log(e),function(e){var t={disaster:e};V()({text:'Please fill out your username".',content:"input",button:{text:"OK!",closeModal:!1}}).then((function(e){if(!e)throw null;U.updateDisaster(t,e).then((function(e){V.a.stopLoading(),V.a.close(),j(!0)})).catch((function(e){e?V()("Oh noes!","Check your username!","error"):(V.a.stopLoading(),V.a.close())}))}))}(e),e){case"HandWashing":case"Earthquake":case"Landslide":case"Flood":case"Fire":case"Thunderstorm":case"Windstorm":case"Snakebite":case"Epidimic":case"Drought":case"Avalanche":case"Hailstorm":i(Object(l.jsx)(ee,{}));break;default:return void alert("Not found..")}j(!1)};return Object(l.jsxs)(s.a.Fragment,{children:[Object(l.jsxs)(x.a,{container:!0,direction:"row",justify:"center",children:[Object(l.jsx)(x.a,{item:!0,xs:4,children:Object(l.jsx)(p.a,{display:"flex",justifyContent:"center",children:Object(l.jsx)(d.a,{className:"chooseDisasterBtPrinc",variant:"contained",color:"secondary",onClick:function(){return b("HandWashing")},children:Object(l.jsx)(u.a,{variant:"subtitle2",children:"HAND WASHING"})})})}),Object(l.jsx)(x.a,{item:!0,xs:4,children:Object(l.jsx)(p.a,{display:"flex",justifyContent:"center",children:Object(l.jsx)(d.a,{className:"chooseDisasterBtPrinc",variant:"contained",color:"secondary",onClick:function(){return b("Earthquake")},children:Object(l.jsx)(u.a,{variant:"subtitle2",children:"EARTHQUAKE"})})})}),Object(l.jsx)(x.a,{item:!0,xs:4,children:Object(l.jsx)(p.a,{display:"flex",justifyContent:"center",children:Object(l.jsx)(d.a,{className:"chooseDisasterBtPrinc",variant:"contained",color:"secondary",onClick:function(){return b("Landslide")},children:Object(l.jsx)(u.a,{variant:"subtitle2",children:"LANDSLIDE"})})})}),Object(l.jsx)(x.a,{item:!0,xs:4,children:Object(l.jsx)(p.a,{display:"flex",justifyContent:"center",children:Object(l.jsx)(d.a,{className:"chooseDisasterBtPrinc",variant:"contained",color:"secondary",onClick:function(){return b("Flood")},children:Object(l.jsx)(u.a,{variant:"subtitle2",children:"FLOOD"})})})}),Object(l.jsx)(x.a,{item:!0,xs:4,children:Object(l.jsx)(p.a,{display:"flex",justifyContent:"center",children:Object(l.jsx)(d.a,{className:"chooseDisasterBtPrinc",variant:"contained",color:"secondary",onClick:function(){return b("Fire")},children:Object(l.jsx)(u.a,{variant:"subtitle2",children:"FIRE"})})})}),Object(l.jsx)(x.a,{item:!0,xs:4,children:Object(l.jsx)(p.a,{display:"flex",justifyContent:"center",children:Object(l.jsx)(d.a,{className:"chooseDisasterBtPrinc",variant:"contained",color:"secondary",onClick:function(){return b("Thunderstorm")},children:Object(l.jsx)(u.a,{variant:"subtitle2",children:"THUNDERSTORM"})})})}),Object(l.jsx)(x.a,{item:!0,xs:4,children:Object(l.jsx)(p.a,{display:"flex",justifyContent:"center",children:Object(l.jsx)(d.a,{className:"chooseDisasterBtPrinc",variant:"contained",color:"secondary",onClick:function(){return b("Windstorm")},children:Object(l.jsx)(u.a,{variant:"subtitle2",children:"WINDSTORM"})})})}),Object(l.jsx)(x.a,{item:!0,xs:4,children:Object(l.jsx)(p.a,{display:"flex",justifyContent:"center",children:Object(l.jsx)(d.a,{className:"chooseDisasterBtPrinc",variant:"contained",color:"secondary",onClick:function(){return b("Snakebite")},children:Object(l.jsx)(u.a,{variant:"subtitle2",children:"SNAKEBITE"})})})}),Object(l.jsx)(x.a,{item:!0,xs:4,children:Object(l.jsx)(p.a,{display:"flex",justifyContent:"center",children:Object(l.jsx)(d.a,{className:"chooseDisasterBtPrinc",variant:"contained",color:"secondary",onClick:function(){return b("Epidimic")},children:Object(l.jsx)(u.a,{variant:"subtitle2",children:"EPIDEMIC"})})})}),Object(l.jsx)(x.a,{item:!0,xs:4,children:Object(l.jsx)(p.a,{display:"flex",justifyContent:"center",children:Object(l.jsx)(d.a,{className:"chooseDisasterBtPrinc",variant:"contained",color:"secondary",onClick:function(){return b("Drought")},children:Object(l.jsx)(u.a,{variant:"subtitle2",children:"DROUGHT"})})})}),Object(l.jsx)(x.a,{item:!0,xs:4,children:Object(l.jsx)(p.a,{display:"flex",justifyContent:"center",children:Object(l.jsx)(d.a,{className:"chooseDisasterBtPrinc",variant:"contained",color:"secondary",onClick:function(){return b("Avalanche")},children:Object(l.jsx)(u.a,{variant:"subtitle2",children:"AVALANCHE"})})})}),Object(l.jsx)(x.a,{item:!0,xs:4,children:Object(l.jsx)(p.a,{display:"flex",justifyContent:"center",children:Object(l.jsx)(d.a,{className:"chooseDisasterBtPrinc",variant:"contained",color:"secondary",onClick:function(){return b("Hailstorm")},children:Object(l.jsx)(u.a,{variant:"subtitle2",children:"HAILSTORM"})})})})]}),Object(l.jsx)(f.a,{open:h,onClose:function(){return j(!1)},children:Object(l.jsxs)(F.a,{component:"main",maxWidth:"md",children:[Object(l.jsx)(D.a,{}),Object(l.jsx)("div",{className:e.paper,children:n})]})})]})}var ne=function(e){Object(C.a)(a,e);var t=Object(S.a)(a);function a(){var e;return Object(v.a)(this,a),(e=t.call(this)).state={input:{},errors:{}},e.handleChange=e.handleChange.bind(Object(T.a)(e)),e.handleSubmit=e.handleSubmit.bind(Object(T.a)(e)),e}return Object(y.a)(a,[{key:"handleChange",value:function(e){console.log(e);var t=this.state.input;"check"!=e.target.name?t[e.target.name]=e.target.value:t[e.target.name]=e.target.checked,this.setState({input:t})}},{key:"handleSubmit",value:function(e){if(console.log(e),e.preventDefault(),this.validate()){console.log(this.state);var t=this.state.input.username,a=this.state.input.name,n=this.state.input.email,s=this.state.input.nrStreet,i=this.state.input.street,c=this.state.input.city,r=this.state.input.description,l=this.state.input.dateOfBirth,o=this.state.input.allergy,d=this.state.input.bloodType,u=this.state.input.tel;U.createVictim(t,a,n,s,i,c,r,l,o,d,u,"/Landing")}}},{key:"validate",value:function(){var e=this.state.input,t={},a=!0;return e.check||(a=!1,t.check="please agree to the policy"),e.username||(a=!1,t.username="Please enter your User Name."),e.name||(a=!1,t.name="Please enter your Full Name."),e.allergy||(a=!1,t.allergy="Please enter your Type of allergy."),e.bloodType||(a=!1,t.bloodType="Please enter your Blood type."),e.tel||(a=!1,t.tel="Please enter your Phone Number."),e.dateOfBirth||(a=!1,t.dateOfBirth="Please enter your date Of Birth."),this.setState({errors:t}),a}},{key:"render",value:function(){var e,t=this.props.classes;return Object(l.jsxs)(F.a,{component:"main",className:t.paper,maxWidth:"xs",children:[Object(l.jsx)(D.a,{}),Object(l.jsxs)("div",{className:t.paper,children:[Object(l.jsx)(P.a,{className:t.avatar,children:Object(l.jsx)(A.a,{})}),Object(l.jsx)(u.a,{component:"h1",variant:"h5",children:"FORM"}),Object(l.jsxs)(x.a,{container:!0,spacing:2,children:[Object(l.jsxs)(x.a,{item:!0,xs:12,sm:6,children:[Object(l.jsx)("input",{type:"text",name:"name",value:this.state.input.name,onChange:this.handleChange,class:"form-control",placeholder:"Full Name",id:"name"}),Object(l.jsx)("div",{className:"text-danger",children:this.state.errors.name})]}),Object(l.jsxs)(x.a,{item:!0,xs:12,sm:6,children:[Object(l.jsx)("input",{type:"text",name:"username",value:this.state.input.username,onChange:this.handleChange,class:"form-control",placeholder:"User Name",id:"username"}),Object(l.jsx)("div",{className:"text-danger",children:this.state.errors.username})]}),Object(l.jsxs)(x.a,{item:!0,xs:12,sm:6,children:[Object(l.jsx)("input",{type:"text",name:"street",value:this.state.input.street,onChange:this.handleChange,class:"form-control",placeholder:"street",id:"street"}),Object(l.jsx)("div",{className:"text-danger",children:this.state.errors.street})]}),Object(l.jsxs)(x.a,{item:!0,xs:12,sm:6,children:[Object(l.jsx)(M.a,{id:"dateOfBirth",label:"dateOfBirth",type:"date",value:this.state.input.dateOfBirth,onChange:this.handleChange,className:t.textField,name:"dateOfBirth",InputLabelProps:{shrink:!0}}),Object(l.jsx)("div",{className:"text-danger",children:this.state.errors.dateOfBirth})]}),Object(l.jsx)(x.a,{item:!0,xs:12,sm:6,children:Object(l.jsx)("input",{variant:"outlined",required:!0,fullWidth:!0,id:"email",placeholder:"Email Address",name:"email",value:this.state.input.email,onChange:this.handleChange,class:"form-control"})}),Object(l.jsxs)(x.a,{item:!0,xs:12,sm:6,children:[Object(l.jsx)("input",{type:"text",name:"nrStreet",value:this.state.input.nrStreet,onChange:this.handleChange,class:"form-control",placeholder:"number street",id:"nrStreet"}),Object(l.jsx)("div",{className:"text-danger",children:this.state.errors.nrStreet})]}),Object(l.jsx)(x.a,{item:!0,xs:12,sm:6,children:Object(l.jsx)("input",{type:"text",variant:"outlined",required:!0,fullWidth:!0,id:"city",placeholder:"city",value:this.state.input.city,onChange:this.handleChange,name:"city",class:"form-control"})}),Object(l.jsxs)(x.a,{item:!0,xs:12,sm:6,children:[Object(l.jsx)("input",{type:"text",name:"allergy",variant:"outlined",placeholder:"allergy",label:"allergy",class:"form-control",value:this.state.input.allergy,onChange:this.handleChange})," ",Object(l.jsx)("div",{className:"text-danger",children:this.state.errors.allergy})]}),Object(l.jsxs)(x.a,{item:!0,xs:12,sm:6,children:[Object(l.jsx)("input",{type:"text",name:"bloodType",value:this.state.input.bloodType,onChange:this.handleChange,class:"form-control",placeholder:"Blood type",id:"bloodType"}),Object(l.jsx)("div",{className:"text-danger",children:this.state.errors.bloodType})]}),Object(l.jsxs)(x.a,{item:!0,xs:12,sm:6,children:[Object(l.jsx)("input",{type:"text",name:"tel",value:this.state.input.tel,onChange:this.handleChange,class:"form-control",placeholder:"tel",id:"tel"}),Object(l.jsx)("div",{className:"text-danger",children:this.state.errors.tel})]}),Object(l.jsxs)(x.a,{item:!0,xs:12,children:[Object(l.jsx)(g.a,{control:Object(l.jsx)(O.a,{onChange:this.handleChange,checked:this.state.input.check,color:"primary",name:"check"}),label:"I Agree to the Policy"}),Object(l.jsx)("div",{className:"text-danger",children:this.state.errors.check})]}),Object(l.jsx)(x.a,{item:!0,xs:12,children:Object(l.jsx)("form",{className:t.root,noValidate:!0,autoComplete:"off",children:Object(l.jsx)("input",{type:"text",name:"description",class:"form-control",placeholder:"Description",value:this.state.input.description,onChange:this.handleChange,id:"filled-basic",variant:"filled"})})}),Object(l.jsx)(d.a,(e={variant:"outlined",fullWidth:!0},Object(w.a)(e,"variant","contained"),Object(w.a)(e,"color","primary"),Object(w.a)(e,"className",t.submit),Object(w.a)(e,"style",{textTransform:"none"}),Object(w.a)(e,"onClick",this.handleSubmit),Object(w.a)(e,"children","Sign Up"),e))]}),Object(l.jsx)(p.a,{mt:1,mb:1,display:"flex",justifyContent:"flex-end",width:"100%"})]})]})}}]),a}(s.a.Component),se=Object(N.a)((function(e){return{paper:{marginTop:e.spacing(1),display:"flex",flexDirection:"column",alignItems:"center",background:"white"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(0)},submit:{margin:e.spacing(0,0,1)},Modal:{overflow:"scroll"}}}))(ne),ie=function(e){Object(C.a)(a,e);var t=Object(S.a)(a);function a(){var e;return Object(v.a)(this,a),(e=t.call(this)).state={input:{},errors:{}},e}return Object(y.a)(a,[{key:"manageModal",value:function(e){this.setState({openModal:e})}},{key:"render",value:function(){var e=this,t=this.props.classes;return Object(l.jsx)(k.a,{elevation:1,className:t.padding,children:Object(l.jsxs)(x.a,{container:!0,justify:"center",style:{marginTop:"10px"},children:[Object(l.jsx)(d.a,{variant:"outlined",color:"primary",style:{textTransform:"none"},onClick:function(){return e.manageModal(!0)},children:"Register Yourself !"}),Object(l.jsx)(f.a,{open:this.state.openModal,onClose:function(){return e.manageModal(!1)},children:Object(l.jsx)(se,{})})]})})}}]),a}(s.a.Component),ce=Object(N.a)((function(e){return{margin:{margin:2*e.spacing.unit},padding:{padding:e.spacing.unit},paper:{backgroundColor:"white"}}}))(ie),re=a(259),le=a.n(re),oe=a(364),de="http://localhost:8080/api/sos",ue=new(function(){function e(){Object(v.a)(this,e)}return Object(y.a)(e,[{key:"getSos",value:function(){return B.a.get(de,{headers:R()})}},{key:"createSos",value:function(e){return B.a.post(de,e)}},{key:"updateTimer",value:function(e,t){return B.a.put(de+"/"+e,t,{headers:{"Content-Type":"application/json"}})}},{key:"getSOSById",value:function(e){return B.a.get(de+"/"+e)}},{key:"getSOSTimerById",value:function(e){return B.a.get(de+"/timer/"+e)}},{key:"deleteSOS",value:function(e){return B.a.delete(de+"/delete/"+e)}},{key:"updateSOS",value:function(e,t){return B.a.put(de+"/"+t,e)}}]),e}()),he=(a(424),function(e){Object(C.a)(a,e);var t=Object(S.a)(a);function a(){return Object(v.a)(this,a),t.apply(this,arguments)}return Object(y.a)(a,[{key:"render",value:function(){return Object(l.jsx)("div",{children:Object(l.jsxs)("h1",{style:{fontSize:100,marginLeft:100},children:[this.props.value,":",this.props.seconds]})})}}]),a}(s.a.Component)),je=function(e){Object(C.a)(a,e);var t=Object(S.a)(a);function a(e){var n;return Object(v.a)(this,a),(n=t.call(this,e)).state={seconds:"00",value:"",isClicked:!1},n.handleChange=n.handleChange.bind(Object(T.a)(n)),n.startCountDown=n.startCountDown.bind(Object(T.a)(n)),n.tick=n.tick.bind(Object(T.a)(n)),n}return Object(y.a)(a,[{key:"componentDidMount",value:function(){var e=new Date,t=e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate(),a=this;navigator.geolocation.getCurrentPosition((function(e){var n={latitude:e.coords.latitude,longtitude:e.coords.longitude,date:t};ue.createSos(n).then((function(e){localStorage.setItem("LastSOSId",e.data.id);try{var t=setInterval(Object(oe.a)(le.a.mark((function n(){return le.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:ue.getSOSTimerById(e.data.id).then((function(e){e.data>0&&(a.setState({value:e.data}),a.startCountDown(),clearInterval(t))}));case 1:case"end":return n.stop()}}),n)}))),1e3)}catch(n){console.log(n)}}))}),(function(e){alert(e.code)}),{timeout:3e4,enableHighAccuracy:!1})}},{key:"handleChange",value:function(e){this.setState({value:e.target.value})}},{key:"tick",value:function(){var e=Math.floor(this.secondsRemaining/60),t=this.secondsRemaining-60*e;this.setState({value:e,seconds:t}),t<10&&this.setState({seconds:"0"+this.state.seconds}),e<10&&this.setState({value:"0"+e}),0===e&0===t&&clearInterval(this.intervalHandle),this.secondsRemaining--}},{key:"startCountDown",value:function(){this.intervalHandle=setInterval(this.tick,1e3);var e=this.state.value;this.secondsRemaining=60*e,this.setState({isClicked:!0})}},{key:"render",value:function(){return Object(l.jsx)("div",{children:Object(l.jsxs)("div",{className:"row",children:[Object(l.jsx)("div",{className:"col-md-4"}),Object(l.jsxs)("div",{className:"col-md-4",children:[Object(l.jsx)(x.a,{item:!0,xs:12,children:Object(l.jsx)(p.a,{Cdisplay:"flex",justifyContent:"center",m:1,p:1,children:Object(l.jsx)(u.a,{align:"center",children:"We are coming to save you in this time:"})})}),Object(l.jsx)(he,{value:this.state.value,seconds:this.state.seconds})]})]})})}}]),a}(s.a.Component),be=a(533),me=a(534),pe=a(532),xe=new(function(){function e(){Object(v.a)(this,e)}return Object(y.a)(e,[{key:"createRescueHelper",value:function(e,t,a,n,s,i,c,r,l,o,d){return B.a.post("http://localhost:8080/api/registerRescueHelper",{username:e,password:t,name:a,email:n,birthday:s,age:i,department:c,description:r,phoneNumber:l,profession:o}).then((function(){window.location.href=d})).catch((function(e){V()("Failure","User can exist","error")}))}},{key:"sendPasswordEmail",value:function(e){return B.a.post("http://localhost:8080/api/request-password-reset",e)}},{key:"sendReset",value:function(e){return B.a.post("http://localhost:8080/api/password-reset",e)}}]),e}()),Oe=function(e){Object(C.a)(a,e);var t=Object(S.a)(a);function a(){var e;return Object(v.a)(this,a),(e=t.call(this)).state={input:{},errors:{}},e.handleChange=e.handleChange.bind(Object(T.a)(e)),e.handleSubmit=e.handleSubmit.bind(Object(T.a)(e)),e}return Object(y.a)(a,[{key:"handleChange",value:function(e){console.log(e);var t=this.state.input;"check"!=e.target.name?t[e.target.name]=e.target.value:t[e.target.name]=e.target.checked,this.setState({input:t})}},{key:"handleSubmit",value:function(e){if(e.preventDefault(),this.validate()){var t=this.state.input["Matriculation Number"],a=this.state.input.password,n=this.state.input.username,s=this.state.input.email,i=this.state.input.birthday,c=this.state.input.age,r=this.state.input.department,l=this.state.input.description,o=this.state.input.phoneNumber,d=this.state.input.profession;xe.createRescueHelper(t,a,n,s,i,c,r,l,o,d,"/LoginResc")}}},{key:"validate",value:function(){var e=this.state.input,t={},a=!0;return e.check||(a=!1,t.check="please agree to the policy"),e.username||(a=!1,t.username="Please enter your Full Name."),e["Matriculation Number"]||(a=!1,t["Matriculation Number"]="Please enter your Matriculation Number."),e.profession||(a=!1,t.profession="Please enter your Profession."),e.phoneNumber||(a=!1,t.phoneNumber="Please enter your Phone Number."),e.password||(a=!1,t.password="Please enter your password."),e.birthday||(a=!1,t.birthday="Please enter your date Of Birth."),this.setState({errors:t}),a}},{key:"render",value:function(){var e,t=this.props.classes;return Object(l.jsxs)(F.a,{component:"main",className:t.paper,maxWidth:"xs",children:[Object(l.jsx)(D.a,{}),Object(l.jsxs)("div",{className:t.paper,children:[Object(l.jsx)(P.a,{className:t.avatar,children:Object(l.jsx)(A.a,{})}),Object(l.jsx)(u.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(l.jsxs)(x.a,{container:!0,spacing:2,children:[Object(l.jsxs)(x.a,{item:!0,xs:12,sm:6,children:[Object(l.jsx)("input",{type:"text",name:"username",value:this.state.input.username,onChange:this.handleChange,class:"form-control",placeholder:"Full Name",id:"username"}),Object(l.jsx)("div",{className:"text-danger",children:this.state.errors.username})]}),Object(l.jsxs)(x.a,{item:!0,xs:12,sm:6,children:[Object(l.jsx)("input",{type:"text",name:"Matriculation Number",value:this.state.input["Matriculation Number"],onChange:this.handleChange,class:"form-control",placeholder:"Matriculation Number",id:"Matriculation Number"}),Object(l.jsx)("div",{className:"text-danger",children:this.state.errors["Matriculation Number"]})]}),Object(l.jsxs)(x.a,{item:!0,xs:12,sm:6,children:[Object(l.jsx)(M.a,{id:"date",label:"birthday",type:"date",value:this.state.input.birthday,onChange:this.handleChange,className:t.textField,name:"birthday",InputLabelProps:{shrink:!0}}),Object(l.jsx)("div",{className:"text-danger",children:this.state.errors.birthday})]}),Object(l.jsx)(x.a,{item:!0,xs:12,children:Object(l.jsx)("input",{value:this.state.input.email,onChange:this.handleChange,id:"email",label:"Email Address",name:"email",class:"form-control",placeholder:"Enter your Email"})}),Object(l.jsxs)(x.a,{item:!0,xs:12,children:[Object(l.jsx)("input",{type:"password",name:"password",value:this.state.input.password,onChange:this.handleChange,class:"form-control",placeholder:"Enter password",id:"password"}),Object(l.jsx)("div",{className:"text-danger",children:this.state.errors.password})]}),Object(l.jsx)(x.a,{item:!0,xs:12,sm:6,children:Object(l.jsx)("input",{value:this.state.input.department,onChange:this.handleChange,id:"department",label:"department",name:"department",autoComplete:"department",placeholder:"department",class:"form-control"})}),Object(l.jsx)(x.a,{item:!0,xs:12,sm:6,children:Object(l.jsx)("input",{name:"age",variant:"outlined",value:this.state.input.age,onChange:this.handleChange,id:"age",label:"Age",placeholder:"Age",class:"form-control"})}),Object(l.jsxs)(x.a,{item:!0,xs:12,sm:6,children:[Object(l.jsx)("input",{type:"text",name:"profession",value:this.state.input.profession,onChange:this.handleChange,class:"form-control",placeholder:"Profession",id:"profession"}),Object(l.jsx)("div",{className:"text-danger",children:this.state.errors.profession})]}),Object(l.jsxs)(x.a,{item:!0,xs:12,sm:6,children:[Object(l.jsx)("input",{type:"text",name:"phoneNumber",value:this.state.input.phoneNumber,onChange:this.handleChange,class:"form-control",placeholder:"Phone Number",id:"phoneNumber"}),Object(l.jsx)("div",{className:"text-danger",children:this.state.errors.phoneNumber})]}),Object(l.jsxs)(x.a,{item:!0,xs:12,children:[Object(l.jsx)(g.a,{control:Object(l.jsx)(O.a,{onChange:this.handleChange,checked:this.state.input.check,color:"primary",name:"check"}),label:"I Agree to the Policy"}),Object(l.jsx)("div",{className:"text-danger",children:this.state.errors.check})]}),Object(l.jsx)(x.a,{item:!0,xs:12,children:Object(l.jsx)("form",{className:t.root,noValidate:!0,autoComplete:"off",children:Object(l.jsx)("input",{type:"text",name:"description",value:this.state.input.description,onChange:this.handleChange,class:"form-control",placeholder:"description",id:"filled-basic",variant:"filled"})})}),Object(l.jsx)(d.a,(e={variant:"outlined",fullWidth:!0},Object(w.a)(e,"variant","contained"),Object(w.a)(e,"color","primary"),Object(w.a)(e,"className",t.submit),Object(w.a)(e,"style",{textTransform:"none"}),Object(w.a)(e,"onClick",this.handleSubmit),Object(w.a)(e,"children","Sign Up"),e))]}),Object(l.jsx)(p.a,{mt:1,mb:1,display:"flex",justifyContent:"flex-end",width:"100%",children:Object(l.jsx)(pe.a,{href:"LoginResc",variant:"body2",children:"Already have an account? Sign in"})})]})]})}}]),a}(s.a.Component),ge=Object(N.a)((function(e){return{paper:{marginTop:e.spacing(1),display:"flex",flexDirection:"column",alignItems:"center",background:"white"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(0)},submit:{margin:e.spacing(0,0,1)},Modal:{overflow:"scroll"}}}))(Oe),fe=new(function(){function e(){Object(v.a)(this,e)}return Object(y.a)(e,[{key:"loginUser",value:function(e,t,a){return B.a.post("http://localhost:8080/api/authenticate",{username:e,password:t}).then((function(e){var t;if(!(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.token))throw localStorage.removeItem("token"),new Error("Unable to login");localStorage.setItem("token",JSON.stringify(e.data.token)),window.location.href=a})).catch((function(e){if(e.response)throw localStorage.removeItem("token"),e.response.status;throw e}))}},{key:"logout",value:function(){localStorage.removeItem("user")}},{key:"getCurrentUser",value:function(){return JSON.parse(localStorage.getItem("user"))}}]),e}()),ve=a(540),ye=function(e){Object(C.a)(a,e);var t=Object(S.a)(a);function a(){var e;return Object(v.a)(this,a),(e=t.call(this)).state={input:{},errors:{}},e.handleChange=e.handleChange.bind(Object(T.a)(e)),e.handleSubmit=e.handleSubmit.bind(Object(T.a)(e)),e}return Object(y.a)(a,[{key:"handleChange",value:function(e){var t=this.state.input;t[e.target.name]=e.target.value,this.setState({input:t})}},{key:"handleSubmit",value:function(e){var t=this;if(e.preventDefault(),this.validate()){var a=this.state.input["Matriculation Number"],n=this.state.input.password;fe.loginUser(a,n,"/LoginRescue").catch((function(e){401==e&&t.setState({UnauthorisedError:Object(l.jsx)(ve.a,{variant:"filled",severity:"error",children:"You are not authorized"})})}))}}},{key:"validate",value:function(){var e=this.state.input,t={},a=!0;return this.setState({UnauthorisedError:null}),e["Matriculation Number"]||(a=!1,console.log("test"),t["Matriculation Number"]="Please enter your name."),e.password||(a=!1,t.password="Please enter your password."),this.setState({errors:t}),console.log(t,e),a}},{key:"manageModal",value:function(e){this.setState({openModal:e})}},{key:"render",value:function(){var e=this,t=this.props.classes;return Object(l.jsx)("form",{onSubmit:this.handleSubmit,children:Object(l.jsx)(k.a,{className:t.padding,children:Object(l.jsxs)("div",{className:t.margin,children:[Object(l.jsxs)(x.a,{container:!0,spacing:8,alignItems:"flex-end",children:[Object(l.jsx)(x.a,{item:!0,children:Object(l.jsx)(be.a,{})}),Object(l.jsxs)(x.a,{item:!0,md:!0,sm:!0,xs:!0,children:[Object(l.jsx)("input",{type:"text",name:"Matriculation Number",value:this.state.input["Matriculation Number"],onChange:this.handleChange,class:"form-control",placeholder:"Matriculation Number",id:"Matriculation Number"}),Object(l.jsx)("div",{className:"text-danger",children:this.state.errors["Matriculation Number"]})]})]}),Object(l.jsxs)(x.a,{container:!0,spacing:8,alignItems:"flex-end",children:[Object(l.jsx)(x.a,{item:!0,children:Object(l.jsx)(me.a,{})}),Object(l.jsxs)(x.a,{item:!0,md:!0,sm:!0,xs:!0,children:[Object(l.jsx)("input",{type:"password",name:"password",value:this.state.input.password,onChange:this.handleChange,class:"form-control",placeholder:"Enter password",id:"password"}),Object(l.jsx)("div",{className:"text-danger",children:this.state.errors.password})]})]}),Object(l.jsx)("br",{}),this.state.UnauthorisedError,Object(l.jsx)(x.a,{container:!0,alignItems:"center",justify:"space-between",children:Object(l.jsx)(x.a,{item:!0,children:Object(l.jsx)(pe.a,{href:"forgot",color:"primary",variant:"body2",children:"Forgot password ?"})})}),Object(l.jsxs)(x.a,{container:!0,justify:"center",style:{marginTop:"11px"},children:[Object(l.jsx)(d.a,{variant:"outlined",color:"primary",style:{textTransform:"none"},type:"submit",children:"Login"}),Object(l.jsxs)(x.a,{container:!0,justify:"center",style:{marginTop:"10px"},children:[Object(l.jsx)(d.a,{variant:"outlined",color:"primary",style:{textTransform:"none"},onClick:function(){return e.manageModal(!0)},children:"Sign In"}),Object(l.jsx)(f.a,{open:this.state.openModal,onClose:function(){return e.manageModal(!1)},children:Object(l.jsx)(ge,{})})]})]})]})})})}}]),a}(s.a.Component),Ce=Object(N.a)((function(e){return{margin:{margin:2*e.spacing.unit},padding:{padding:e.spacing.unit}}}))(ye),Se=Object(W.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary,display:"flex",flexDirection:"column",alignItems:"center",backgroundColor:"white"}}}));var ke=function(){var e=Se(),t=s.a.useState(Object(l.jsx)("div",{})),a=Object(r.a)(t,2),n=a[0],i=a[1],c=s.a.useState(!1),h=Object(r.a)(c,2),b=h[0],v=h[1],y=function(e){switch(console.log(e),e){case"Victim":i(Object(l.jsx)(ce,{}));break;case"Rescue":i(Object(l.jsx)(Ce,{}));break;default:return void alert("Not found..")}v(!0)};return Object(l.jsx)(o,{children:Object(l.jsxs)(x.a,{container:!0,spacing:3,children:[Object(l.jsx)(x.a,{item:!0,xs:12,children:Object(l.jsx)(p.a,{pr:5,pl:5,flexDirection:"row",children:Object(l.jsx)(u.a,{align:"right",children:"Login As:"})})}),Object(l.jsx)(x.a,{item:!0,xs:12,children:Object(l.jsxs)(p.a,{pr:2,pl:2,display:"flex",flexDirection:"row-reverse",children:[Object(l.jsx)(d.a,{className:"bt",variant:"contained",color:"primary",startIcon:Object(l.jsx)(j.a,{}),onClick:function(){return y("Victim")},children:"Victim"}),Object(l.jsx)(d.a,{className:"bt",variant:"contained",color:"primary",onClick:function(){return y("Rescue")},startIcon:Object(l.jsx)(m.a,{}),children:"Rescue Helper"})]})}),Object(l.jsx)(x.a,{item:!0,xs:12,children:Object(l.jsx)(p.a,{display:"flex",justifyContent:"center",m:1,p:1,children:Object(l.jsx)(d.a,{className:"bt3",variant:"contained",color:"secondary",href:"/SOS",children:Object(l.jsx)(u.a,{variant:"h1",children:"SOS"})})})}),Object(l.jsx)(f.a,{open:b,onClose:function(){return v(!1)},children:Object(l.jsxs)(F.a,{component:"main",maxWidth:"md",children:[Object(l.jsx)(D.a,{}),Object(l.jsx)("div",{className:e.paper,children:n})]})}),Object(l.jsx)(x.a,{item:!0,xs:12,children:Object(l.jsx)(p.a,{display:"flex",justifyContent:"center",m:1,p:1,children:Object(l.jsx)(g.a,{control:Object(l.jsx)(O.a,{defaultChecked:!0,color:"primary",inputProps:{"aria-label":"secondary checkbox"}}),label:"Allow sharing IPaddress and your Location"})})})]})})},Ne=function(e){return Object(l.jsx)("div",{children:Object(l.jsx)(ke,{})})},we=(a(425),function(e){return Object(l.jsxs)(o,{children:[Object(l.jsx)("div",{className:"supl",children:'This represents a list that you can fill all, or part of, depending on your needs and requirements. Print the list and put a check-mark next to each item as you store it away. Don\'t try to fill this in a few weeks, but just try to get 1 item at least per week, store it away, and then go on to next. Some of the items are common sense, things that you should have in your house anyway in case of emergency or need. Others are more "hard-core" and you may opt not to purchase it - in that case, line through the item :'}),Object(l.jsxs)(x.a,{container:!0,spacing:3,children:[Object(l.jsxs)(x.a,{item:!0,xs:6,sm:3,children:[Object(l.jsx)("div",{className:"h1",children:"MEDICAL SUPPLIES"}),Object(l.jsxs)("ul",{className:"a",children:[Object(l.jsx)("li",{children:"Hydrogen Peroxide"}),Object(l.jsx)("li",{children:"Multi-vitamins/Aminos/Vitamin C"}),Object(l.jsx)("li",{children:"Stitching Kit (for serious cuts)"}),Object(l.jsx)("li",{children:"First Aid Kit"}),Object(l.jsx)("li",{children:"Penicillin if available"}),Object(l.jsx)("li",{children:"Snake Bite Kit Pain"}),Object(l.jsx)("li",{children:"Killer (Tylenol, Advil etc"})]})]}),Object(l.jsxs)(x.a,{item:!0,xs:6,sm:3,children:[Object(l.jsx)("div",{className:"h1",children:"CLOTHING SUPPLIES"}),Object(l.jsxs)("ul",{className:"a",children:[Object(l.jsx)("li",{children:"Fatigues"}),Object(l.jsx)("li",{children:"Hiking Boots"}),Object(l.jsx)("li",{children:"Rain Gear"})]})]}),Object(l.jsxs)(x.a,{item:!0,xs:6,sm:3,children:[Object(l.jsx)("div",{className:"h1",children:"SURVIVAL KITS"}),Object(l.jsxs)("ul",{className:"a",children:[Object(l.jsx)("li",{children:"Air Compressor / DC power source"}),Object(l.jsx)("li",{children:"Backpacks"}),Object(l.jsx)("li",{children:"Battery Charger"}),Object(l.jsx)("li",{children:"CB Radio"}),Object(l.jsx)("li",{children:"Elecrical Wire"}),Object(l.jsx)("li",{children:"Maps"}),Object(l.jsx)("li",{children:"Tent & sleeping bag(s)"}),Object(l.jsx)("li",{children:"Campstove / Fuel"}),Object(l.jsx)("li",{children:"Fishing Gear"}),Object(l.jsx)("li",{children:"Rope and Seeds - All kinds"})]})]}),Object(l.jsxs)(x.a,{item:!0,xs:6,sm:3,children:[Object(l.jsx)("div",{className:"h1",children:"HOUSEHOLD ITEMS"}),Object(l.jsxs)("ul",{className:"a",children:[Object(l.jsx)("li",{children:"Baking Soda"}),Object(l.jsx)("li",{children:"Candles"}),Object(l.jsx)("li",{children:"Knives"}),Object(l.jsx)("li",{children:"Lighter Fluid"}),Object(l.jsx)("li",{children:"Scissors"}),Object(l.jsx)("li",{children:"Feminine Pads"}),Object(l.jsx)("li",{children:"Notebooks"})]})]})]})]})}),Te=(a(426),a(369)),Me=a.n(Te),Pe=a(368),De=a.n(Pe),Ie=a(367),Ae=a.n(Ie),Fe=function(e){return Object(l.jsx)(o,{children:Object(l.jsxs)(x.a,{container:!0,spacing:4,children:[Object(l.jsx)(x.a,{item:!0,xs:6,sm:8,children:Object(l.jsx)(u.a,{className:"Led",align:"center",children:"Disaster Management web App designed to help the victims or the emergency cases to get in contact with rescue helpers quickly also to avoid huge damages in order to help the maximum peoples in short amount of time."})}),Object(l.jsxs)(x.a,{item:!0,xs:6,sm:4,children:[Object(l.jsx)("div",{className:"h1",children:"General Contact"}),Object(l.jsxs)("ul",{children:[Object(l.jsxs)("div",{children:[Object(l.jsx)(Ae.a,{}),"Frankfurt University of Applied Sciences"]}),Object(l.jsxs)("div",{children:[Object(l.jsx)(De.a,{}),"Nibelungenplatz 1 D-60318 Frankfurt am Main"]}),Object(l.jsxs)("div",{children:[Object(l.jsx)(Q.a,{}),"Phone: +49 69 1533-0"]}),Object(l.jsxs)("div",{children:[Object(l.jsx)(Me.a,{}),"post (at) fra-uas. de"]})]})]})]})})},Ee=a(97),Be=a(34),Re=(a(427),a(428),function(e){return Object(l.jsx)("div",{className:"card",children:e.children})}),Le=(a(429),function(e){return Object(l.jsx)(x.a,{item:!0,xs:12,children:Object(l.jsx)(p.a,{Cdisplay:"flex",justifyContent:"center",m:1,p:1,children:Object(l.jsx)(u.a,{className:"lego",align:"center",children:"Disaster Management Application"})})})}),Ve=function(e){return Object(l.jsx)("div",{children:Object(l.jsx)(Re,{children:Object(l.jsx)(Le,{})})})},He=(a(430),function(e){return Object(l.jsx)("header",{className:"header",children:Object(l.jsxs)("nav",{className:"headerMenu",children:[Object(l.jsx)(Ee.b,{to:"/",children:"Home"}),Object(l.jsx)(Ee.b,{to:"/Supliers",children:"Supplies / Survavial kits "}),Object(l.jsx)(Ee.b,{to:"/Help",children:"About"})]})})}),Ue=a(370),We=(a(434),{lat:52.237049,lng:21.017532}),Ke=s.a.memo((function(){var e=Object(n.useContext)(nt).victims,t=Object(n.useContext)(st).sosCases,a=Object(Ue.a)("AIzaSyBkz_rtiTK4wHl18HUy_BnjmKnMEn4FxRw",{zoom:4,center:We}),s=a.ref,i=a.map,c=(a.google,new window.google.maps.Geocoder);if(i){for(var r=0;r<e.length;r++){var o=e[r].street+e[r].nrStreet+e[r].city;c.geocode({address:o},(function(e,t){"OK"===t&&new window.google.maps.Marker({map:i,position:e[0].geometry.location,icon:"http://maps.google.com/mapfiles/ms/icons/blue-dot.png"})}))}for(r=0;r<t.length;r++){var d={lat:t[r].latitude,lng:t[r].longtitude};new window.google.maps.Marker({map:i,position:d,icon:"http://maps.google.com/mapfiles/ms/icons/red-dot.png"})}}return Object(l.jsx)("div",{ref:s,class:"map-map"})})),Ge=(a(435),function(){var e=Object(n.useContext)(it).setMessageData,t=Object(n.useState)(""),a=Object(r.a)(t,2),s=a[0],i=a[1];return Object(l.jsx)("div",{class:"chat-popup",id:"myForm",children:Object(l.jsxs)("form",{action:"",class:"form-container",children:[Object(l.jsx)("label",{id:"label-msg",for:"msg",children:Object(l.jsx)("b",{children:"Message To The Victim"})}),Object(l.jsx)("textarea",{id:"textField",type:"message",value:s,placeholder:"Type message..",name:"msg",onChange:function(e){return i(e.target.value)},required:!0}),Object(l.jsx)("button",{type:"button",class:"btn",onClick:function(){e(s),i(""),V()("Success","We saved your message! Choose the receiver of your message now!","success")},children:"Send"})]})})}),qe=a(169),ze=(a(436),a(375)),Ye=a.n(ze),Je=a(257),_e=a.n(Je),Qe=a(374),Xe=a.n(Qe),Ze=function(e){var t=Object(n.useContext)(it).message;return Object(l.jsx)("div",{children:Object(l.jsx)(_e.a,{title:e.dataType,data:e.data,columns:e.columns,cellEditable:e.cellEditable,options:{search:!1,paging:!1,actions:e.selectionAllowed,selection:!1,headerStyle:{backgroundColor:"blue",color:"#FFF"}},actions:[{disabled:"All"===e.dataType,icon:function(){return Object(l.jsx)(Xe.a,{})},tooltip:"Delete forever",isFreeAction:!1,onClick:function(t,a){return function(t){"SOS"===e.dataType?ue.deleteSOS(t.latitude).then((function(e){window.location.reload(!1)})):"Victims"===e.dataType&&U.deleteVictim(t.username).then((function(e){window.location.reload(!1)}))}(a)}},{disabled:"All"===e.dataType||"SOS"===e.dataType,icon:function(){return Object(l.jsx)(Ye.a,{})},tooltip:"Send Message",isFreeAction:!1,onClick:function(e,a){return function(e){var a={messageToVictim:t};U.updateVictim(a,e).then((function(a){V()("Success!",'Your message "'.concat(t,'" was sent to the user ').concat(e,"!"),"success")}))}(a.username)}}]})})},$e=[{title:"Report",field:"type",editable:"never"},{title:"Name",field:"name",editable:"never"}],et=[{title:"Name",field:"name",editable:"never"},{title:"Username",field:"username",editable:"never"},{title:"E-mail",field:"email",editable:"never"},{title:"City",field:"city",editable:"never"},{title:"Street",field:"street",editable:"never"},{title:"Street Number",field:"nrStreet",editable:"never"},{title:"Tel",field:"tel",editable:"never"},{title:"Message",field:"message",editable:"never"},{title:"Blood Type",field:"bloodType",editable:"never"},{title:"Allergy",field:"allergy",editable:"never"},{title:"Disaster",field:"disaster",editable:"never"}],tt=[{title:"Id",field:"id",editable:"never"},{title:"Latitude",field:"latitude",editable:"never"},{title:"Longtitude",field:"longtitude",editable:"never"},{title:"Date",field:"date",editable:"never"},{title:"Timer",field:"timer",type:"numeric"}],at=function(e){var t=Object(n.useState)("Type of Emergency"),a=Object(r.a)(t,2),s=a[0],i=a[1],c=Object(n.useState)({table:[],typeOfData:"",selectionAllowed:!0}),o=Object(r.a)(c,2),d=o[0],u=o[1],h=Object(n.useState)([]),j=Object(r.a)(h,2),b=j[0],m=j[1],p=Object(n.useState)([]),x=Object(r.a)(p,2),O=x[0],g=x[1],f=Object(n.useState)($e),v=Object(r.a)(f,2),y=v[0],C=v[1],S=Object(n.useState)([]),k=Object(r.a)(S,2),N=(k[0],k[1]),w=Object(n.useState)({onCellEditApproved:function(e,t,a,n){}}),T=Object(r.a)(w,2),M=T[0],P=T[1],D=Object(n.useContext)(nt).setDataVictims,I=Object(n.useContext)(st).setSosCases,A=function(e){switch(e.target.name){case"Victims":i("Victims"),C(et),u({table:O,typeOfData:"Victims",selectionAllowed:!0});break;case"SOS":i("SOS"),C(tt),u({table:b,typeOfData:"SOS",selectionAllowed:!1}),P({onCellEditApproved:function(e,t,a,n){return new Promise((function(t,n){ue.updateTimer(a.id,e).then((function(n){a.timer=e,t()})).catch((function(e){console.log(e),n()}))}))}})}};return Object(n.useEffect)((function(){U.getVictims().then((function(e){g(e.data),D(e.data),N((function(t){return[].concat(Object(qe.a)(t),Object(qe.a)(e.data))}))})),ue.getSos().then((function(e){m(e.data),I(e.data),N((function(t){return[].concat(Object(qe.a)(t),Object(qe.a)(e.data))}))}))}),[]),Object(l.jsxs)("div",{children:[Object(l.jsxs)("div",{class:"multi-button",children:[Object(l.jsx)("button",{name:"Victims",onClick:A,children:"Victims"}),Object(l.jsx)("button",{name:"SOS",onClick:A,children:"SOS"})]}),Object(l.jsx)(Ze,{isClicked:s,data:d.table,columns:y,messageTo:e.messageTo,dataType:d.typeOfData,selectionAllowed:d.selectionAllowed,cellEditable:M})]})},nt=(a(496),s.a.createContext({victims:[],setVictims:function(){}})),st=s.a.createContext({sosCases:[],setSosCases:function(){}}),it=s.a.createContext({messageToThePerson:"Hey",setMessage:function(){}});var ct=function(){var e=Object(n.useState)("Hey you"),t=Object(r.a)(e,2),a=t[0],s=t[1],i=Object(n.useState)([]),c=Object(r.a)(i,2),o=c[0],d=c[1],u=Object(n.useState)([]),h=Object(r.a)(u,2),j=h[0],b=h[1];return Object(l.jsx)(it.Provider,{value:{message:a,setMessageData:function(e){s(e)}},children:Object(l.jsx)(nt.Provider,{value:{victims:o,setDataVictims:function(e){d(e)}},children:Object(l.jsx)(st.Provider,{value:{sosCases:j,setSosCases:b},children:Object(l.jsxs)("div",{children:[Object(l.jsx)(at,{messageTo:"Table"}),Object(l.jsx)("div",{class:"lol",children:Object(l.jsx)(Ke,{})}),Object(l.jsx)("div",{class:"content",children:Object(l.jsx)(Ge,{})})]})})})})},rt=function(e){Object(C.a)(a,e);var t=Object(S.a)(a);function a(){var e;return Object(v.a)(this,a),(e=t.call(this)).handleSubmit=function(){var t={email:e.state.email};console.log(t),xe.sendPasswordEmail(t).then((function(e){V()("Success","Check your email and click the link","success")})).catch((function(e){alert(e)}))},e.state={email:""},e}return Object(y.a)(a,[{key:"handleInputChange",value:function(e){console.log(this.state.email),this.setState({email:e.target.value})}},{key:"render",value:function(){var e=this;return Object(l.jsxs)("form",{children:[Object(l.jsx)("h3",{children:"Forgot Password"}),Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsx)("label",{children:"Email"}),Object(l.jsx)("input",{type:"email",className:"form-control",placeholder:"enter your email",onChange:function(t){return e.handleInputChange(t)}})]}),Object(l.jsx)("button",{type:"button",className:"btn btn-primary btn-block",onClick:this.handleSubmit,children:"Submit"})]})}}]),a}(s.a.Component),lt=function(e){Object(C.a)(a,e);var t=Object(S.a)(a);function a(){var e;return Object(v.a)(this,a),(e=t.call(this)).handleSubmit=function(){var t,a=(t=window.location.search)?(/^[?#]/.test(t)?t.slice(1):t).split("&").reduce((function(e,t){var a=t.split("="),n=Object(r.a)(a,2),s=n[0],i=n[1];return e[s]=i?decodeURIComponent(i.replace(/\+/g," ")):"",e}),{}):{},n={token:a.token,password:e.state.password};a.token?xe.sendReset(n).then((function(t){e.props.history.push("/LoginResc")})).catch((function(e){return V()("Failure","Something went wrong! Try again!","error")})):alert("eror")},e.state={password:""},e}return Object(y.a)(a,[{key:"handleInputChange",value:function(e){this.setState({password:e.target.value})}},{key:"render",value:function(){var e=this;return Object(l.jsxs)("form",{children:[Object(l.jsx)("h3",{children:"Reset Password"}),Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsx)("label",{children:"Password"}),Object(l.jsx)("input",{type:"password",className:"form-control",placeholder:"enter your password",onChange:function(t){return e.handleInputChange(t)}})]}),Object(l.jsx)("button",{type:"button",className:"btn btn-primary btn-block",onClick:this.handleSubmit,children:"Submit"})]})}}]),a}(s.a.Component);var ot=function(){return Object(l.jsx)(Ee.a,{children:Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)(Ve,{}),Object(l.jsx)(He,{}),Object(l.jsx)(Be.a,{path:"/",exact:!0,component:Ne}),Object(l.jsx)(Be.a,{path:"/Help",exact:!0,component:Fe}),Object(l.jsx)(Be.a,{path:"/Supliers",eaxact:!0,component:we}),Object(l.jsx)(Be.a,{path:"/Landing",eaxact:!0,component:ae}),Object(l.jsx)(Be.a,{path:"/Login",exact:!0,component:ce}),Object(l.jsx)(Be.a,{path:"/SOS",exact:!0,component:je}),Object(l.jsx)(Be.a,{path:"/LoginRescue",exact:!0,component:ct}),Object(l.jsx)(Be.a,{path:"/LoginResc",exact:!0,component:Ce}),Object(l.jsx)(Be.a,{path:"/forgot",exact:!0,component:rt}),Object(l.jsx)(Be.a,{path:"/reset-password",exact:!0,component:lt})]})})};a(497);c.a.render(Object(l.jsx)(s.a.StrictMode,{children:Object(l.jsx)(ot,{})}),document.getElementById("root"))}},[[498,1,2]]]);
//# sourceMappingURL=main.3c96524b.chunk.js.map